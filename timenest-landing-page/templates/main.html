<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="static/TIMENEST-05.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@100..900&family=Outfit:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
            integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="/static/styles/style_main.css" />
        <script src="script_main.js" defer></script>
        <title>Timenest</title>
    </head>
    <body>
        <div class="h__container">
            <div class="h-col-1">
                <img id="logo" src="/static/TIMENEST-05 1 Black.svg" alt="timenest" style="height: 34px;">
                <button class="menu" data-tooltip="Main menu" aria-label="button" role="button">
                    <img src="/static/Vector.svg" alt="menu button" style="height: 22px">
                </button>
            </div>
            <div class="group-right">
                <div class="undo-redo">
                    <button class="undo" data-tooltip="Undo" aria-label="button" role="button">
                        <img src="/static/Undo.svg" alt="undo button" style="height: 20px">
                    </button>
                    <button class="redo" data-tooltip="Undo" aria-label="button" role="button">
                        <img src="/static/Redo.svg" alt="redo button" style="height: 20px">
                    </button>
                </div>
                <button class="switch" data-tooltip="Undo" aria-label="button" role="button">
                    <img src="/static/Horizontal_switch.svg" alt="switch button" style="height: 30px">
                </button>
                <p id="workspace-display">Anh Tuan's workspace</p>
            </div>
        </div>
        <main class="main">
            <div class="sidebar">
                <div class="sidebar-content__wrapper1">
                    <div class="short-cut1">
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-envelope.svg" alt="envelope">
                        </button>
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-shopping-bag.svg" alt="shopping">
                        </button>
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-basketball.svg" alt="basketball">
                        </button>
                    </div>  
                    
                    <div class="div-manage">
                        <button class="manage" aria-label="button" role="button">
                            <p>Manage</p>
                        </button>
                    </div>
                
                    <div class="div-create">
                        <button class="create" id="createBtn" aria-label="button" role="button">
                            <img src="/static/fi-ss-add.svg" alt="plus" style="width: 55px">
                            <div class="create-text">Create
                            </div>
                        </button>
                    </div>
                    
                    <div id="createTaskModal" class="createTaskModal">
                        <div class="modal-content">
                            <span class="close-button">&times;</span>
                            <h2>Create New Task</h2>
                            <form id="createTaskForm">
                                <label for="taskName">Task Name:</label>
                                <input type="text" id="taskName" name="taskName" required>
                    
                                <label for="taskDescription">Description:</label>
                                <textarea id="taskDescription" name="taskDescription" rows="3"></textarea>
                    
                                <label for="startTime">Start Time:</label>
                                <input type="datetime-local" id="startTime" name="startTime" required>
                    
                                <label for="endTime">End Time:</label>
                                <input type="datetime-local" id="endTime" name="endTime" required>
                                
                                <label for="taskColor">Task Color:</label>
            <input type="color" id="taskColor" name="taskColor" value="#4361ee">
                                <button type="submit">Create Task</button>
                            </form>
                        </div>
                    </div>

                    <div class="tracker">
                        <div class="progress-container">
                            <span class="time-period"></span>
                            <div class="progress-bar"></div>
                        </div>
                    </div>
                    <div class="chatbot">
                        <div class="header">
                            <h1>Clutch AI</h1>
                        </div>
                        <div class="chat-window">
                            <div class="bot-message">
                                <p>Hi there! How can I help you today?</p>
                            </div>
                        </div>
                        <div class="input-area">
                            <input type="text" placeholder="Type a message..." required>
                            <button class="send"><img src="/static/Arrow 1.svg"></button>
                        </div>
                    </div>
                    
                    <!-- Move this script to the end of the body -->
                    
                </div>
            </div>
            <div class="calendar-zone">
                <div class="calendar-zone-top">
                    <div class="today">
                        <button class="btn-today"><p>Today</p></button>
                    </div>
                    <div class="day">
                    </div>
                    <div class="right">
                        <div class="view">
                            <p>Week</p>
                            <button><img src="/static/fi-ss-caret-down.svg"></button>
                        </div>
                        <div class="search">
                            <button class="s"><img src="/static/Date_range.svg" style="width: 45px"></button>
                        </div>
                    </div>
                </div>
                <section class="Calender">
                    <div class = "blank"></div>
                    <div class="weekview_date_header">
                      <div class="Sunday">
                        <div class="date">
                          <p class="day_of_week">Sun</p>
                          <br />
                          <p class="date_of_sun">26</p>
                        </div>
                      </div>
                      <div class="Monday">
                        <div class="date">
                          <p class="day_of_week">Mon</p>
                          <br />
                          <p class="date_of_mon">26</p>
                        </div>
                      </div>
                      <div class="Tuesday">
                        <div class="date">
                          <p class="day_of_week">Tue</p>
                          <br />
                          <p class="date_of_tue">27</p>
                        </div>
                      </div>
                      <div class="Wednesday">
                        <div class="date">
                          <p class="day_of_week">Wed</p>
                          <br />
                          <p class="date_of_wed">28</p>
                        </div>
                      </div>
                      <div class="Thursday">
                        <div class="date">
                          <p class="day_of_week">Thu</p>
                          <br />
                          <p class="date_of_thu">29</p>
                        </div>
                      </div>
                      <div class="Friday">
                        <div class="date">
                          <p class="day_of_week">Fri</p>
                          <br />
                          <p class="date_of_fri">30</p>
                        </div>
                      </div>
                      <div class="Saturday">
                        <div class="date">
                          <p class="day_of_week">Sat</p>
                          <br />
                          <p class="date_of_sat">31</p>
                        </div>
                      </div>
                    </div>
                    <div class="time_interval">
                      <div class="time">
                      </div>
                      <div class="time-slots"></div>
                    </div>
                  </section>
                </div>
            </div>

            <!-- <div class="bottom">
                <div class="option">
                    <button class="option-button 1"><img src="/static/Add_round.svg"></button>
                </div>
                <div class="option">
                    <button class="option-button 2"><img src="/static/S" aria-hidden="true"></i>.svg"></button>
                </div>
                <div class="option">
                    <button class="option-button 3"><img src="/static/Group_fill.svg"></button>
                </div>
            </div> -->
        </main>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const chatWindow = document.querySelector('.chat-window');
                const inputField = document.querySelector('.input-area input');
                const sendButton = document.querySelector('.input-area button');
            
                function addMessage(message, isUser = false) {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = isUser ? 'user-message' : 'bot-message';
                    messageDiv.innerHTML = `<p>${message}</p>`;
                    chatWindow.appendChild(messageDiv);
                    chatWindow.scrollTop = chatWindow.scrollHeight;
                }
            
                function handleUserInput() {
                    const userMessage = inputField.value.trim();
                    if (userMessage) {
                        addMessage(userMessage, true);
                        inputField.value = '';
                        // Here you would typically send the message to a backend for processing
                        // For now, we'll just echo a simple response
                        setTimeout(() => {
                            addMessage("I've received your message: " + userMessage);
                        }, 500);
                    }
                }
            
                sendButton.addEventListener('click', handleUserInput);
            
                inputField.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        handleUserInput();
                    }
                });
            });

            const tracker = document.querySelector('.tracker');
            const progressBar = document.querySelector('.progress-bar');
            const timePeriod = document.querySelector('.time-period');

            // Sample data (you can replace this with real data)
            const tasksData = {
                week: 35,
                month: 120,
                total: 200
            };

            // Set initial progress
            const progress = (tasksData.month / tasksData.total) * 100;
            progressBar.style.width = `${progress}%`;

            let isShowingWeek = true;
            function updateProgressInfo() {
                if (isShowingWeek) {
                    timePeriod.textContent = `Week (${tasksData.week})`;
                } else {
                    timePeriod.textContent = `Month (${tasksData.month})`;
                }
                isShowingWeek = !isShowingWeek;
            }

            tracker.addEventListener('mouseenter', () => {
                updateProgressInfo();
            });

            tracker.addEventListener('mouseover', () => {
                if (!timePeriod.style.opacity || timePeriod.style.opacity === '0') {
                    updateProgressInfo();
                }
            });

            setInterval(() => {
                if (tracker.matches(':hover')) {
                    updateProgressInfo();
                }
            }, 2000); // Switch between week and month data every 2 seconds while hovering
        </script>
    </body>
</html>
