<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="static/TIMENEST-05.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Catamaran:wght@100..900&family=Outfit:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
            integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="/static/styles/style_main.css" />
        <title>Timenest</title>
    </head>
    <body>
        <div class="h__container">
            <div class="h-col-1">
                <img id="logo" src="/static/TIMENEST-05 1 Black.svg" alt="timenest" style="height: 34px;">
                <button class="menu" data-tooltip="Main menu" aria-label="button" role="button">
                    <img src="/static/Vector.svg" alt="menu button" style="height: 22px">
                </button>
            </div>
            <div class="group-right">
                <div class="undo-redo">
                    <button class="undo" data-tooltip="Undo" aria-label="button" role="button">
                        <img src="/static/Undo.svg" alt="undo button" style="height: 20px">
                    </button>
                    <button class="redo" data-tooltip="Undo" aria-label="button" role="button">
                        <img src="/static/Redo.svg" alt="redo button" style="height: 20px">
                    </button>
                </div>
                <button class="switch" data-tooltip="Undo" aria-label="button" role="button">
                    <img src="/static/Horizontal_switch.svg" alt="switch button" style="height: 30px">
                </button>
                <p id="workspace-display">Anh Tuan's workspace</p>
            </div>
        </div>
        <main class="main">
            <div class="sidebar">
                <div class="sidebar-content__wrapper1">
                    <div class="short-cut1">
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-envelope.svg" alt="envelope">
                        </button>
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-shopping-bag.svg" alt="shopping">
                        </button>
                        <button class="sc-1" aria-label="button" role="button">
                            <img src="/static/fi-ss-basketball.svg" alt="basketball">
                        </button>
                    </div>  
                    
                    <div class="div-manage">
                        <button class="manage" aria-label="button" role="button">
                            <p>Manage</p>
                        </button>
                    </div>
                
                    <div class="div-create">
                        <button class="create" aria-label="button" role="button">
                            <img src="/static/fi-ss-add.svg" alt="plus" style="width: 55px">
                            <div class="create-text">
                                <p>Create</p>
                            </div>
                        </button>
                    </div>
                    <div class="tracker">
                        <div class="progress-container">
                            <span class="time-period"></span>
                            <div class="progress-bar"></div>
                        </div>
                    </div>
                    <div class="chatbot">
                        <div class="header">
                            <h1>Clutch AI</h1>
                        </div>
                        <div class="chat-window">
                            <div class="bot-message">
                                <p>Hi there! How can I help you today?</p>
                            </div>
                        </div>
                        <div class="input-area">
                            <input type="text" placeholder="Type a message..." required>
                            <button class="send"><img src="/static/Arrow 1.svg"></button>
                        </div>
                    </div>
                    
                    <!-- Move this script to the end of the body -->
                    
                </div>
            </div>
            <div class="calendar-zone">
                <div class="container_calendar cc-tran container__calendar-sb-active">
                    <div class="yearview hide-view"></div>
                    <div class="monthview hide-view"></div>
                    <div class="weekview ">
                        <div class="weekview-top">
                            <div></div>
                            <div class="weekview-header">
                            </div>
                            <div class="weekview-grid">
                            </div>
                        </div>
                    <div class="dayview hide-view"></div>
                </div>
            </div>
        </main>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const chatWindow = document.querySelector('.chat-window');
                const inputField = document.querySelector('.input-area input');
                const sendButton = document.querySelector('.input-area button');
            
                function addMessage(message, isUser = false) {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = isUser ? 'user-message' : 'bot-message';
                    messageDiv.innerHTML = `<p>${message}</p>`;
                    chatWindow.appendChild(messageDiv);
                    chatWindow.scrollTop = chatWindow.scrollHeight;
                }
            
                function handleUserInput() {
                    const userMessage = inputField.value.trim();
                    if (userMessage) {
                        addMessage(userMessage, true);
                        inputField.value = '';
                        // Here you would typically send the message to a backend for processing
                        // For now, we'll just echo a simple response
                        setTimeout(() => {
                            addMessage("I've received your message: " + userMessage);
                        }, 500);
                    }
                }
            
                sendButton.addEventListener('click', handleUserInput);
            
                inputField.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        handleUserInput();
                    }
                });
            });

            const tracker = document.querySelector('.tracker');
            const progressBar = document.querySelector('.progress-bar');
            const timePeriod = document.querySelector('.time-period');

            // Sample data (you can replace this with real data)
            const tasksData = {
                week: 35,
                month: 120,
                total: 200
            };

            // Set initial progress
            const progress = (tasksData.month / tasksData.total) * 100;
            progressBar.style.width = `${progress}%`;

            let isShowingWeek = true;
            function updateProgressInfo() {
                if (isShowingWeek) {
                    timePeriod.textContent = `Week (${tasksData.week})`;
                } else {
                    timePeriod.textContent = `Month (${tasksData.month})`;
                }
                isShowingWeek = !isShowingWeek;
            }

            tracker.addEventListener('mouseenter', () => {
                updateProgressInfo();
            });

            tracker.addEventListener('mouseover', () => {
                if (!timePeriod.style.opacity || timePeriod.style.opacity === '0') {
                    updateProgressInfo();
                }
            });

            setInterval(() => {
                if (tracker.matches(':hover')) {
                    updateProgressInfo();
                }
            }, 2000); // Switch between week and month data every 2 seconds while hovering
        </script>
    </body>
</html>
